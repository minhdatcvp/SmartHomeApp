{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { ref, onValue, push, update, remove } from 'firebase/database';\nimport { db } from \"../../firebase-config\";\nimport { baseStyles } from \"../Styles/styles\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { useNavigation } from '@react-navigation/core';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DATA = [{\n  id: 1,\n  background: require(\"../../assets/livingroom.png\"),\n  title: 'Living Room'\n}, {\n  id: 2,\n  background: require(\"../../assets/mediaroom.png\"),\n  title: 'Media Room'\n}, {\n  id: 3,\n  background: require(\"../../assets/bathroom.png\"),\n  title: 'Bath Room'\n}, {\n  id: 4,\n  background: require(\"../../assets/bedroom.png\"),\n  title: 'Bed Room'\n}];\n\nvar HomeScreen = function HomeScreen(props) {\n  var navigation = useNavigation();\n\n  var changeRoom = function changeRoom(data) {\n    props.navigation.navigate('Rooms', {\n      options: {\n        data: data\n      }\n    });\n  };\n\n  var onOpenViewProfile = function onOpenViewProfile() {\n    alert(JSON.stringify(props));\n  };\n\n  var renderItem = function renderItem(data) {\n    return _jsx(TouchableWithoutFeedback, {\n      onPress: function onPress() {\n        return changeRoom(data.item);\n      },\n      children: _jsx(ImageBackground, {\n        source: data.item.background,\n        resizeMode: \"cover\",\n        imageStyle: {\n          borderRadius: 20,\n          width: '100%'\n        },\n        style: [styles.item],\n        children: _jsxs(View, {\n          style: styles.roomName,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: data.item.title\n          }), _jsx(Text, {\n            style: styles.titleDivice,\n            children: \"4 Devices\"\n          })]\n        })\n      })\n    });\n  };\n\n  useEffect(function () {\n    return onValue(ref(db, '/leds'), function (querySnapShot) {\n      var data = querySnapShot.val() || [];\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: baseStyles.row,\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          style: styles.dateTime,\n          children: \"February 13, 2020\"\n        }), _jsx(Text, {\n          style: baseStyles.h1,\n          children: \"Welcome home\"\n        })]\n      }), _jsx(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return onOpenViewProfile();\n        },\n        children: _jsx(View, {\n          style: styles.avatar,\n          children: _jsx(Image, {\n            style: styles.tinyLogo,\n            source: require(\"../../assets/avatar.png\")\n          })\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.rooms,\n      children: _jsx(View, {\n        children: _jsx(FlatList, {\n          data: DATA,\n          showsHorizontalScrollIndicator: false,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        })\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 80,\n    width: '100%',\n    height: '100%',\n    backgroundColor: '#ffefe0'\n  },\n  avatar: {\n    width: 50,\n    height: 50,\n    marginLeft: 'auto',\n    borderRadius: '50%',\n    borderWidth: 1,\n    marginTop: 5\n  },\n  tinyLogo: {\n    width: '100%',\n    height: '100%',\n    borderRadius: '50%'\n  },\n  rooms: {\n    marginTop: 10,\n    width: '100%'\n  },\n  item: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: 170,\n    marginBottom: 5,\n    position: 'relative'\n  },\n  title: {\n    fontSize: 19,\n    fontWeight: '500',\n    color: 'white'\n  },\n  titleDivice: {\n    fontSize: 13,\n    fontWeight: '500',\n    color: 'white',\n    marginTop: 5\n  },\n  dateTime: {\n    fontSize: 15,\n    color: '#9BA4B0'\n  },\n  roomName: {\n    marginLeft: '10%',\n    position: 'absolute',\n    bottom: 30\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    roomActive: state.state.roomActive\n  };\n};\n\nvar ActionCreators = Object.assign({});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(ActionCreators, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);","map":{"version":3,"names":["React","useState","useEffect","ref","onValue","push","update","remove","db","baseStyles","connect","bindActionCreators","useNavigation","DATA","id","background","require","title","HomeScreen","props","navigation","changeRoom","data","navigate","options","onOpenViewProfile","alert","JSON","stringify","renderItem","item","borderRadius","width","styles","roomName","titleDivice","querySnapShot","val","container","row","dateTime","h1","avatar","tinyLogo","rooms","StyleSheet","create","flex","paddingTop","height","backgroundColor","marginLeft","borderWidth","marginTop","marginBottom","position","fontSize","fontWeight","color","bottom","mapStateToProps","state","roomActive","ActionCreators","Object","assign","mapDispatchToProps","dispatch","actions"],"sources":["D:/uet/KLTN/ReactNative/Test3/SmartHome/src/Screens/HomeScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, View, Text, Image, Dimensions, FlatList, Switch, TouchableWithoutFeedback } from 'react-native';\r\nimport { ref, onValue, push, update, remove } from 'firebase/database';\r\nimport { db } from '../../firebase-config';\r\nimport { baseStyles } from '../Styles/styles';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/core'\r\n\r\n// data list room\r\nconst DATA = [\r\n  {\r\n    id: 1,\r\n    background: require('../../assets/livingroom.png'),\r\n    title: 'Living Room',\r\n  },\r\n  {\r\n    id: 2,\r\n    background: require('../../assets/mediaroom.png'),\r\n    title: 'Media Room',\r\n  },\r\n  {\r\n    id: 3,\r\n    background: require('../../assets/bathroom.png'),\r\n    title: 'Bath Room',\r\n  },\r\n  {\r\n    id: 4,\r\n    background: require('../../assets/bedroom.png'),\r\n    title: 'Bed Room',\r\n  }\r\n];\r\n\r\nconst HomeScreen = (props) => {\r\n  const navigation = useNavigation()\r\n\r\n  const changeRoom = (data) => {\r\n    props.navigation.navigate('Rooms', {\r\n      options: {\r\n        data: data\r\n      }\r\n    })\r\n  }\r\n\r\n  const onOpenViewProfile = () => {\r\n    alert(JSON.stringify(props))\r\n    // navigation.replace(\"Profile\", {\r\n    //   options : {\r\n    //     parent: \"Home\"\r\n    //   }\r\n    // })\r\n  }\r\n\r\n  const renderItem = (data) => (\r\n    <TouchableWithoutFeedback onPress={() => changeRoom(data.item)}>\r\n      <ImageBackground source={data.item.background} resizeMode='cover' imageStyle={{ borderRadius: 20, width: '100%' }} style={[styles.item]}>\r\n        <View style={styles.roomName}>\r\n          <Text style={styles.title}>{data.item.title}</Text>\r\n          <Text style={styles.titleDivice}>4 Devices</Text>\r\n        </View>\r\n\r\n      </ImageBackground>\r\n    </TouchableWithoutFeedback>\r\n  );\r\n\r\n  useEffect(() => {\r\n    return onValue(ref(db, '/leds'), querySnapShot => {\r\n      let data = querySnapShot.val() || [];\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={baseStyles.row}>\r\n        <View>\r\n          <Text style={styles.dateTime}>February 13, 2020</Text>\r\n          <Text style={baseStyles.h1}>Welcome home</Text>\r\n        </View>\r\n        <TouchableWithoutFeedback onPress={() => onOpenViewProfile()}>\r\n          <View style={styles.avatar}>\r\n            <Image\r\n              style={styles.tinyLogo}\r\n              source={require('../../assets/avatar.png')}\r\n            />\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n      </View>\r\n      <View style={styles.rooms}>\r\n        <View >\r\n          <FlatList\r\n            data={DATA}\r\n            showsHorizontalScrollIndicator={false}\r\n            renderItem={renderItem}\r\n            keyExtractor={item => item.id}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\n// style\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingTop: 80,\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundColor: '#ffefe0'\r\n  },\r\n  avatar: {\r\n    width: 50,\r\n    height: 50,\r\n    marginLeft: 'auto',\r\n    borderRadius: '50%',\r\n    borderWidth: 1,\r\n    marginTop: 5\r\n\r\n  },\r\n  tinyLogo: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderRadius: '50%',\r\n  },\r\n  rooms: {\r\n    marginTop: 10,\r\n    width: '100%',\r\n  },\r\n  item: {\r\n    backgroundColor: '#fff',\r\n    width: '100%',\r\n    height: 170,\r\n    marginBottom: 5,\r\n    position: 'relative'\r\n  },\r\n  title: {\r\n    fontSize: 19,\r\n    fontWeight: '500',\r\n    color: 'white',\r\n  },\r\n  titleDivice: {\r\n    fontSize: 13,\r\n    fontWeight: '500',\r\n    color: 'white',\r\n    marginTop: 5\r\n  },\r\n  dateTime: {\r\n    fontSize: 15,\r\n    color: '#9BA4B0'\r\n  },\r\n  roomName: {\r\n    marginLeft: '10%',\r\n    position: 'absolute',\r\n    bottom: 30\r\n  }\r\n});\r\n\r\n// store\r\nconst mapStateToProps = function (state) {\r\n  return {\r\n    roomActive: state.state.roomActive,\r\n  }\r\n}\r\n\r\nconst ActionCreators = Object.assign(\r\n  {}\r\n);\r\nconst mapDispatchToProps = dispatch => ({\r\n  actions: bindActionCreators(ActionCreators, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);"],"mappings":"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"},"metadata":{},"sourceType":"module"}